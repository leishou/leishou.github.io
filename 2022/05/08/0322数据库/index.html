<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Link Start</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="account(account_number, brach_name, balance) depositer(customer_name, account_number)  建表 创建触发器 插入时加入记录 create trigger cs after insert or update on account referencing new row as neow for each row as">
<meta property="og:type" content="article">
<meta property="og:title" content="Link Start">
<meta property="og:url" content="http://example.com/2022/05/08/0322%E6%95%B0%E6%8D%AE%E5%BA%93/index.html">
<meta property="og:site_name" content="Link Start">
<meta property="og:description" content="account(account_number, brach_name, balance) depositer(customer_name, account_number)  建表 创建触发器 插入时加入记录 create trigger cs after insert or update on account referencing new row as neow for each row as">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-05-08T09:43:27.584Z">
<meta property="article:modified_time" content="2022-03-26T11:29:27.491Z">
<meta property="article:author" content="leishou">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Link Start" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Link Start</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">刹那永恒</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-0322数据库" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/08/0322%E6%95%B0%E6%8D%AE%E5%BA%93/" class="article-date">
  <time class="dt-published" datetime="2022-05-08T09:43:27.584Z" itemprop="datePublished">2022-05-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <pre><code>account(account_number, brach_name, balance)
depositer(customer_name, account_number)
</code></pre>
<p>建表 创建触发器</p>
<p>插入时加入记录</p>
<pre><code>create trigger cs
after insert or update on account
referencing new row as neow
for each row
as begin
if 
</code></pre>
<p>173页</p>
<p>176页</p>
<pre><code>create table classroom
    (building        varchar(15),
     room_number        varchar(7),
     capacity        numeric(4,0),
     primary key (building, room_number)
    );

create table department
    (dept_name        varchar(20), 
     building        varchar(15), 
     budget                numeric(12,2) check (budget &gt; 0),
     primary key (dept_name)
    );
</code></pre>
<pre><code>create table dept
(
name  varchar(5),
age   varchar(5),
dept_work   varchar(7),
salary       numeric(4,0),
per_num      varchar(7),
dept_num    varchar(7),
 primary key (per_num)
 )
 两者之间需要外键相连
</code></pre>
<pre><code>create table dept
(
deptno  numeric(2),
deptname   varchar(10),
manager    varchar(10),
phonenumber char(12),
constraint PK_SC RIMARY key(deptno));
 create table emp
 (
 empno numeric(4),
 ename varchar(10),
 age    numeric(2),
 constraint c1 check (age&lt;=60),
 job varchar(9),
 salary numeric(7,2),
 deptno numeric(2),
 foreign key (deptno)
 references dept(deptno)
 );
</code></pre>
<pre><code>6.
grant all PRIVILEGES  on table student, class to U1
grant all PRIVILEGES  on  student, class to U1 with grant option

grant update(address),select on table student to U2
grant select,update(address),delete on student to U2;


grant select  on table class to public
grant select on class to public

grant update,select on table student to R1
grant select ,update onstudent to R1

grant update,select on table student to U1 with grant option
grant R1 tO U1 with admin option
</code></pre>
<pre><code>7.
grant select on table dept,emp to WM
table shan
grant insert,delete on table dept,emp to LY
table shan
grant select on table c.emp to c    ?
grant select on emp when user()=name  to all 
grant update(salary),select on table dept to LX
table shan
grant all privileges on table dept,emp to ZX    修改结构
//整体应该基于视图
grant alter table on emp,dept to ZX
grant all privileges on emp,dept to 周平 with grant option


create view CS
as 
select *
from 
(
select avg()
)

create view dept_salary as
select dept,emo,max(salary),min(salary),avg(salary)
from dept,emp
where dept.deptno=emp.deptno
group by emp.deptno
grant select on dept_salary to YL
</code></pre>
<pre><code>create table student
(
stu_num  numer
)
</code></pre>
<pre><code>class Solution &#123;
public:
    int combinationSum4(vector&lt;int&gt;&amp; nums, int target) &#123;
        vector&lt;int&gt; dp(target + 1, 0);
        dp[0] = 1;
        for (int i = 0; i &lt;= target; i++) &#123; // 遍历背包
            for (int j = 0; j &lt; nums.size(); j++) &#123; // 遍历物品
                if (i - nums[j] &gt;= 0 &amp;&amp; dp[i] &lt; INT_MAX - dp[i - nums[j]]) &#123;
                    dp[i] += dp[i - nums[j]];
                &#125;
            &#125;
        &#125;
        return dp[target];
    &#125;
&#125;;
</code></pre>
<pre><code>//外循环target   内循环nums
    int n=nums.size();
    vector&lt;vector&lt;int&gt;&gt;dp(n,vector&lt;int&gt;(target+1,0));
    for(int i=1;i&lt;=target;i++)
    &#123;
        for(int j=0;j&lt;n;j++)
        &#123;
            if(i&lt;=nums[j])
            dp[i][j]=
        &#125;
    &#125;
</code></pre>
<pre><code>dp[i] &lt; INT_MAX - dp[i - nums[j]]
dp[i]+dp[i-nums[j]]&lt;INT_
</code></pre>
<pre><code>account(account_number, brach_name, balance)
depositer(customer_name, account_number)
</code></pre>
<pre><code>create trigger cs after delete on account
referencing old row as orow
for each row
begin
delete 
from depositer
where depositer.customer_name not in
(select customer_name 
from depositer
where account_number!=orow.account_number)
end
</code></pre>
<pre><code>create table     branch_cust(brachname,customername)
( brachname varchar(9),
customername 
</code></pre>
<pre><code>CREATE TRIGGER delete_account
ON account
after delete
as 
DELETE FROM depositer
WHERE exists(select account_number    
            from account
            where account.account_number=depositer.account_number)
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/08/0322%E6%95%B0%E6%8D%AE%E5%BA%93/" data-id="cl2y1nz04000058t1gxk30kyd" data-title="" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/05/08/111202%20%E4%B8%BB%E9%A2%98%E7%8F%AD%E4%BC%9A/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">前一篇</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/2022/05/08/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">后一篇</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">五月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/05/08/%E4%B8%80%EF%BC%9A%E7%BB%84%E9%98%9F/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/05/08/111202%20%E4%B8%BB%E9%A2%98%E7%8F%AD%E4%BC%9A/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/05/08/0322%E6%95%B0%E6%8D%AE%E5%BA%93/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/05/08/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/05/08/%E7%8F%AD%E4%BC%9A/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1937654876&auto=1&height=66"></iframe>
    <div id="footer-info" class="inner">
      
      &copy; 2022 leishou<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>